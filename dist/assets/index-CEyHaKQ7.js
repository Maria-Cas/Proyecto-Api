(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();const y="live_ObhKAQTiehStNYDlSLfGYeA4E31qnpEPZmEks4TgPD6IgdiyCs6MQCO1AIEZjQ02",I=document.getElementById("paginaPrincipal"),E=document.getElementById("galeriaPerros"),u=document.getElementById("contenedorGaleria");async function N(){var n,e;try{const t=document.getElementById("dogImage"),a=document.getElementById("edadInfo"),s=document.getElementById("origenInfo"),o=document.getElementById("detallesInfo"),r=document.getElementById("breedName"),l=document.getElementById("additionalImages");if(!t||!a||!s||!o||!r||!l){console.error("No se encontraron todos los elementos necesarios en el DOM");return}l.innerHTML='<p class="text-center">Cargando...</p>';const d=await fetch("https://api.thedogapi.com/v1/images/search?has_breeds=1",{headers:{"x-api-key":y}}),[c]=await d.json();if(console.log("Datos recibidos de la API:",c),t.src=c.url,t.style.display="block",c.breeds&&c.breeds.length>0){const i=c.breeds[0];console.log("Informaci칩n de la raza:",i),r.textContent=i.name;const h=b(i);if(h&&(a.textContent=`Raza: ${i.name} - Edad media: ${h.toFixed(1)} a침os`,a.style.display="block"),i.origin||i.country_code){const p=i.origin||`Pa칤s: ${i.country_code}`;s.textContent=`Origen: ${p}`,s.style.display="block"}else s.textContent="Origen: No disponible",s.style.display="block";const m=[];if(i.temperament&&m.push(`游붩 Temperamento: ${i.temperament}`),(n=i.weight)!=null&&n.metric&&m.push(`丘뒲잺 Peso: ${i.weight.metric} kg`),(e=i.height)!=null&&e.metric&&m.push(`游늺 Altura: ${i.height.metric} cm`),i.bred_for&&m.push(`游꿢 Criado para: ${i.bred_for}`),i.breed_group&&m.push(`游논 Grupo: ${i.breed_group}`),m.length>0&&(o.innerHTML=m.join("<br>"),o.style.display="block"),console.log("Obteniendo im치genes adicionales para la raza principal:",i.name,"ID:",i.id),i.id){const p=await v(i.id);x(p,c.url)}else l.innerHTML='<p class="text-center text-muted">No se pueden obtener im치genes adicionales</p>'}else console.log("La imagen no tiene informaci칩n de raza"),a.style.display="none",s.style.display="none",o.style.display="none",r.textContent="Raza no disponible",l.innerHTML='<p class="text-center text-muted">No hay informaci칩n de raza disponible</p>'}catch(t){console.error("Error detallado:",t);const a=document.getElementById("additionalImages");a&&(a.innerHTML='<p class="text-center text-danger">Error al cargar las im치genes adicionales</p>'),alert("춰Ups! Hubo un error al obtener la informaci칩n del perro. Por favor, intenta de nuevo.")}}function b(n){if(n.life_span){const e=n.life_span.split("-").map(t=>parseInt(t.trim()));return e.reduce((t,a)=>t+a,0)/e.length}return null}function L(n,e){const t=document.getElementById("edadInfo");e?(t.textContent=`Raza: ${n} - Edad media: ${e.toFixed(1)} a침os`,t.style.display="block"):t.style.display="none"}function B(n){const e=document.getElementById("origenInfo");if(n.origin||n.country_code){const t=n.origin||`Pa칤s: ${n.country_code}`;e.textContent=`Origen: ${t}`,e.style.display="block"}else e.textContent="Origen: No disponible",e.style.display="block"}function P(n){var a,s;const e=document.getElementById("detallesInfo"),t=[];n.temperament&&t.push(`游붩 Temperamento: ${n.temperament}`),(a=n.weight)!=null&&a.metric&&t.push(`丘뒲잺 Peso: ${n.weight.metric} kg`),(s=n.height)!=null&&s.metric&&t.push(`游늺 Altura: ${n.height.metric} cm`),t.length>0?(e.innerHTML=t.join("<br>"),e.style.display="block"):e.style.display="none"}function g(n){const e=n.toLowerCase().trim();console.log("Filtrando por:",e);const t=document.querySelectorAll(".dog-card");console.log("N칰mero de tarjetas encontradas:",t.length);let a=0;if(t.forEach(r=>{var c,i;const l=r.closest(".col-md-6"),d=((i=(c=r.querySelector(".card-title"))==null?void 0:c.textContent)==null?void 0:i.toLowerCase())||"";e===""||d.includes(e)?(l.style.display="",a++):l.style.display="none"}),console.log("Tarjetas mostradas:",a),!document.getElementById("mensajeNoResultados")){const r=document.createElement("div");r.id="mensajeNoResultados",r.className="col-12 text-center mt-4",u.appendChild(r)}const o=document.getElementById("mensajeNoResultados");a===0&&e!==""?(o.innerHTML=`<p class="text-muted">No se encontraron razas que coincidan con "${n}"</p>`,o.style.display="block"):o.style.display="none"}async function C(){try{const e=await(await fetch("https://api.thedogapi.com/v1/images/search?has_breeds=1&limit=20",{headers:{"x-api-key":y}})).json();u.innerHTML="";const t=document.createElement("div");t.id="mensajeNoResultados",t.className="col-12 text-center mt-4",t.style.display="none",e.forEach(r=>{if(r.breeds&&r.breeds.length>0){const l=r.breeds[0],d=k(r.url,l.name,l);u.appendChild(d)}}),u.appendChild(t);const a=document.getElementById("searchInput"),s=document.getElementById("searchButton"),o=document.getElementById("clearSearch");if(a&&o&&s){const r=a.cloneNode(!0),l=s.cloneNode(!0),d=o.cloneNode(!0);a.parentNode.replaceChild(r,a),s.parentNode.replaceChild(l,s),o.parentNode.replaceChild(d,o),r.addEventListener("input",c=>{g(c.target.value)}),l.addEventListener("click",()=>{g(r.value)}),r.addEventListener("keypress",c=>{c.key==="Enter"&&g(r.value)}),d.addEventListener("click",()=>{r.value="",g("")})}console.log("Galer칤a cargada y buscador inicializado")}catch(n){console.error("Error al cargar la galer칤a:",n),alert("Error al cargar la galer칤a de perros. Por favor, intenta de nuevo.")}}function k(n,e,t){const a=document.createElement("div");return a.className="col-md-6 col-lg-4 mb-4",a.innerHTML=`
        <div class="dog-card" data-breed-id="${t.id}">
            <div class="image-container">
                <img src="${n}" class="card-image" alt="${e}">
            </div>
            <div class="card-content">
                <h3 class="card-title">${e}</h3>
            </div>
        </div>
    `,a.querySelector(".dog-card").addEventListener("click",()=>{console.log("Click en tarjeta, breed:",t),M(n,t)}),a}async function v(n){try{console.log("Obteniendo im치genes adicionales para breed_id:",n);const e=await fetch(`https://api.thedogapi.com/v1/images/search?breed_ids=${n}&limit=10`,{headers:{"x-api-key":y}});if(!e.ok)throw new Error(`Error en la respuesta de la API: ${e.status}`);const t=await e.json();return console.log("Respuesta completa de la API:",t),t}catch(e){return console.error("Error al obtener im치genes adicionales:",e),[]}}function x(n,e){const t=document.getElementById("additionalImages");if(!t){console.error("No se encontr칩 el contenedor de im치genes adicionales");return}if(t.innerHTML="",!n||n.length===0){console.log("No se encontraron im치genes adicionales"),t.innerHTML='<p class="text-center text-muted">No hay im치genes adicionales disponibles</p>';return}const a=document.createElement("div");a.className="row g-2";const s=n.filter(o=>o.url!==e&&o.url&&o.breeds&&o.breeds.length>0).slice(0,3);if(console.log(`Mostrando ${s.length} im치genes 칰nicas`),s.length===0){t.innerHTML='<p class="text-center text-muted">No hay im치genes adicionales disponibles</p>';return}s.forEach(o=>{var d;const r=document.createElement("div");r.className="col-4";const l=document.createElement("img");l.src=o.url,l.alt=((d=o.breeds[0])==null?void 0:d.name)||"Imagen adicional",l.className="img-fluid additional-image",l.style.cursor="pointer",l.addEventListener("click",()=>{const c=document.getElementById("dogImage");c&&(c.src=o.url)}),r.appendChild(l),a.appendChild(r)}),t.appendChild(a)}async function M(n,e){try{console.log("Mostrando detalles del perro:",e),console.log("ID de la raza:",e.id),f("paginaPrincipal");const t=document.getElementById("dogImage");t&&(t.src=n,t.style.display="block");const a=document.getElementById("breedName");a&&(a.textContent=e.name);const s=b(e);L(e.name,s),B(e),P(e);const o=document.getElementById("additionalImages");if(o&&(o.innerHTML='<p class="text-center">Cargando im치genes adicionales...</p>'),!e.id){console.error("No se encontr칩 ID de raza:",e),o&&(o.innerHTML='<p class="text-center text-muted">No se pueden obtener im치genes adicionales</p>');return}console.log("Obteniendo im치genes adicionales para:",e.name,"ID:",e.id);const r=await v(e.id);if(!r||r.length===0){console.log("No se encontraron im치genes adicionales para la raza:",e.name),o&&(o.innerHTML='<p class="text-center text-muted">No hay im치genes adicionales disponibles</p>');return}x(r,n)}catch(t){console.error("Error al mostrar detalles del perro:",t);const a=document.getElementById("additionalImages");a&&(a.innerHTML='<p class="text-center text-danger">Error al cargar las im치genes adicionales</p>')}}function f(n){n==="paginaPrincipal"?(I.style.display="block",E.style.display="none"):(I.style.display="none",E.style.display="block")}document.getElementById("obtenerPerro").addEventListener("click",N);document.getElementById("irGaleria").addEventListener("click",()=>{f("galeria"),C()});document.getElementById("volverInicio").addEventListener("click",()=>f("paginaPrincipal"));N();
